$(document).ready(function(){var o=o||{};o.app={conf:{cms:null,quizz:null,vendorSolutions:null},lang:"FR",currentNav:"NAVQUIZZ",hasToDisplayQuizz:!1,quizzId:"ID1",apims:[],history:[],_parameter:function(o,i){i=i.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\#&?]"+i+"=([^&#]*)").exec(o);return null==t?"":t[1]},_getCMSValue:function(o,i){var t=this.conf.cms[o];return null!=t[i+"-"+this.lang]?t[i+"-"+this.lang]:t[i]},_setCMSValue:function(o,i,t){var n=this.conf.cms[i];$(o).html(n[t+"-"+this.lang])},_paralaxHook:function(){var o=$(window).scrollTop()/3-0;$("#home-bg").css("background-position-y",o+"px")},_resizeVideoContainerHook:function(){$("header").fadeIn();var o=$(window).height();$("#home-bg-container").css("height",o+"px"),$("#nav-overlay").css("height",o+"px"),$("#section-intro").css("height",o+"px"),$(window).width()>=992?o-=200:$(window).width()>=768?o-=50:o-=150,$("#section-quizz").css("height",o+"px"),$("#section-intro-solutions").css("height",o+"px")},_stickyMenuHook:function(){var o=$("header:eq(1)");$(window).scrollTop()>=200?o.addClass("in-view"):(o.removeClass("in-view"),$(".navbar-collapse").collapse("hide"))},_overlayMenuHook:function(){$(window).scrollTop()>=$(window).height()/2?($("#nav-overlay .blog-link").css("color","#0e2356"),$("#nav-overlay .contact-link").css("color","#0e2356")):($("#nav-overlay .blog-link").css("color","#FFF"),$("#nav-overlay .contact-link").css("color","#FFF"))},_backHistoryHook:function(){var o=this.history.shift();"NAVINTRO"==o[0]?this.displayIntro():"NAVQUIZZ"==o[0]?this.displayQuizz(o[1],o[2]):this.displayAllSolutions()},_animateShapes:function(){if($(".shapes").length){var o=anime.path(".shape-c path");anime({targets:".shape-c .icon",translateX:o("x"),translateY:o("y"),easing:"linear",duration:5e4,direction:"reverse",loop:!0});var i=anime.path(".shape-target path");anime({targets:".shape-target .icon",translateX:i("x"),translateY:i("y"),easing:"linear",duration:55e3,loop:!0});var t=anime.path(".shape-logo path");anime({targets:".shape-logo .icon",translateX:t("x"),translateY:t("y"),rotate:t("angle"),easing:"linear",duration:58e3,direction:"reverse",loop:!0});var n=anime.path(".shape-play path");anime({targets:".shape-play .icon",translateX:n("x"),translateY:n("y"),rotate:360,easing:"linear",duration:52e3,loop:!0})}},_reDisplay:function(){switch(this.displayHome(),this.currentNav){case"NAVQUIZZ":this.hasToDisplayQuizz?this.displayQuizz(this.quizzId):this.displayIntro();break;case"NAVBENCHMARK":this.displayAllSolutions()}},displayHome:function(){$("header:first-of-type").hide(),$("footer:first-of-type").hide(),this._setCMSValue(".button-quizz a","home","header-menu-quizz"),this._setCMSValue(".button-solutions a","home","header-menu-solutions"),this._setCMSValue(".button-publications a","home","header-menu-publications"),this._setCMSValue(".button-contact a","home","header-menu-download"),this._setCMSValue("#button-legal a","home","footer-button-legal"),this._setCMSValue("#button-press a","home","footer-button-press"),this._setCMSValue("#button-blog a","home","footer-button-blog"),this._setCMSValue("#button-contact a","home","footer-button-contact"),$("header:first-of-type").fadeIn(),$("footer:first-of-type").fadeIn()},displayIntro:function(){this._setCMSValue(".button-quizz a","home","header-menu-quizz"),this._setCMSValue(".start-quizz-bloc h2","home","bloc-quizz-title"),this._setCMSValue(".start-quizz-bloc h3","home","bloc-quizz-subtitle"),this._setCMSValue(".solutions-bloc h2","home","bloc-solutions-title"),this._setCMSValue(".solutions-bloc h3","home","bloc-solutions-subtitle"),$("#section-intro").hide(),$("#section-intro-solutions").hide(),this.quizzId="ID1",$("form").hide(),$("#section-quizz").hide(),$("#section-solutions").hide(),$(window).width()<768?$("#home-bg").css("background-image","url("+this._getCMSValue("home","background-image-mobile")+")"):$("#home-bg").css("background-image","url("+this._getCMSValue("home","background-image")+")"),$("#section-intro").fadeIn()},displayQuizz:function(o,i){var t=this;if(o||(o="ID1"),t.currentNav="NAVQUIZZ",this.hasToDisplayQuizz=!0,this.quizzId=o,$("form").hide(),"leaf"==t.conf.quizz.quizz[o].type){var n=t.conf.quizz.quizz[o].apim,e=t.conf.quizz.quizz[o].fail;e?t.displayFail(e):t.displayQuizzSolutions(n)}else{$("#form-"+o).show();var s=this._generateQuizzBloc(o,i);$("#section-quizz").html(s),$("input[type=radio]").click(function(n){n.preventDefault();var e=$(this);e.attr("id");t.history.unshift(["NAVQUIZZ",o,e.attr("value")]),t.displayQuizz(e.attr("id"),i)}),$(".return-button").click(function(){t._backHistoryHook()}),$("#section-intro").hide(),$("#section-intro-solutions").hide(),$("#section-solutions").hide(),$(window).width()<768?$("#home-bg").css("background-image","url("+t._getCMSValue("home","background-image-mobile")+")"):$("#home-bg").css("background-image","url("+t._getCMSValue("home","background-image")+")"),$("#section-quizz").fadeIn()}},start:function(){var o=this;$("section").hide(),$("input[type=radio]").removeAttr("checked"),$("#logo-octo").click(function(t){t.preventDefault(),o.currentNav="NAVQUIZZ",o.hasToDisplayQuizz=!1,i._reDisplay(),$(".button-solutions").removeClass("active"),$(".button-quizz").removeClass("active"),$(".scroll-to-link").hide()}),$(".button-quizz").click(function(t){t.preventDefault(),o.history.unshift(["NAVINTRO"]),i.displayQuizz(),$(".button-solutions").removeClass("active"),$(".button-quizz").addClass("active"),$(".scroll-to-link").hide()}),$(".button-solutions").click(function(o){o.preventDefault(),i.displayAllSolutions(),$(".button-quizz").removeClass("active"),$(".button-solutions").addClass("active")}),$("#navbar a").click(function(o){$("#bg").fadeIn()}),$(".button-lang-fr").click(function(i){i.preventDefault(),o.lang="FR",o._reDisplay(),$(".button-lang-en").removeClass("active"),$(".button-lang-fr").addClass("active")}),$(".button-lang-en").click(function(i){i.preventDefault(),o.lang="EN",o._reDisplay(),$(".button-lang-fr").removeClass("active"),$(".button-lang-en").addClass("active")}),$("#nav-overlay .scroll-to-link").click(function(o){o.preventDefault();var i=$("#nav-overlay .scroll-to-link").offset().top+50;$("html, body").animate({scrollTop:i},200)}),$(".start-quizz-bloc").click(function(){o.history.unshift(["NAVINTRO"]),o.displayQuizz(),$(".button-solutions").removeClass("active"),$(".button-quizz").addClass("active")}),$(".solutions-bloc").click(function(){i.displayAllSolutions(),$(".button-quizz").removeClass("active"),$(".button-solutions").addClass("active")}),$(".footer-warning a").click(function(){$(".footer-warning").hide()}),$("form").submit(function(o){o.preventDefault()});var t=$.ajax({url:"./conf/conf-cms.json",type:"GET",dataType:"json",crossDomain:!0,cache:!1}),n=$.ajax({url:"./conf/conf-quizz.json",type:"GET",dataType:"json",crossDomain:!0,cache:!1}),e=$.ajax({url:"./conf/conf-vendorsolutions.json",type:"GET",dataType:"json",crossDomain:!0,cache:!1});$.when(t,n,e).then(function(i,t,n){console.log("json config file loaded"),o.conf.cms=i[0],o.conf.quizz=t[0],o.conf.vendorSolutions=n[0];var e=o._parameter(window.location,"bg");""!=e&&(o.conf.cms.home["background-image"]=e,o.conf.cms.home["background-image-mobile"]=e,o.conf.cms["section-quizz"]["background-image"]=e,o.conf.cms["section-intro-solutions"]["background-image"]=e),o._reDisplay(),o._animateShapes(),o._resizeVideoContainerHook(),o._paralaxHook(),o._stickyMenuHook(),$("header:eq(1)").on("hidden.bs.collapse",function(){o._stickyMenuHook()}),$(window).resize(function(){o._resizeVideoContainerHook()}),$(window).scroll(function(){o._paralaxHook(),o._stickyMenuHook(),o._overlayMenuHook()})},function(o,i,s){4!=t.readyState&&(console.log("ajax error loading conf-cms.json"),n.abort()),4!=n.readyState&&(console.log("ajax error loading conf-quizz.json"),n.abort()),4!=e.readyState&&(console.log("ajax error loading conf-vendorsolutions.json"),e.abort()),console.log("ajax error loading config"),console.log(o.status),console.log(s)}),console.log("app initialized...")},displayAllSolutions:function(){this.currentNav="NAVBENCHMARK",$("#section-intro").hide(),$("#section-quizz").hide(),$("#home-bg").css("background-image","url("+this._getCMSValue("section-intro-solutions","background-image")+")"),this._setCMSValue("#section-intro-solutions h1","home","section-intro-solutions-title"),this._setCMSValue("#section-intro-solutions p","home","section-intro-solutions-subtitle"),this.displaySolutionsDetailed(["3SCALE","APIGEE","AWS","AXWAY","BROADCOM","GRAVITEE","IBM","KONG","MICROSOFT","MULESOFT","AG","TIBCO","TYK","WSO2"]),$("#section-intro-solutions").fadeIn(),$("#section-solutions").fadeIn()},displayFail:function(o){for(var i=null,t=0;t<this.conf.quizz.fails.length;t++)if(this.conf.quizz.fails[t].id==o){i=this.conf.quizz.fails[t];break}var n='<div class="row">';n+='<div class="col-md-6">',n+='<div class="bloc">',n+="<h2>"+i.name+"</h2>",n+='<h3 class="card-text">'+i["description-"+this.lang]+"</h3>",n+="</div>",n+="</div>",n+="</div>",$("form").hide(),$("#section-quizz").html(n)},displayQuizzSolutions:function(o){this.apims=o;for(var i='<div class="row">',t=0;t<o.length;t++)for(var n=o[t],e=0;e<this.conf.vendorSolutions.length;e++)n==this.conf.vendorSolutions[e].id&&(i+=this._generateSummarySolutionBloc(this.conf.vendorSolutions[e]),0!=t&&(t+1)%3==0&&(i+="</div>",i+='<div class="row">'));i+="</div>",$("form").hide(),$("#home-bg").css("background-image","url("+this._getCMSValue("section-quizz","background-image")+")"),$("#section-quizz").html(i),this.displaySolutionsDetailed(o),$("#section-solutions").fadeIn(),o.forEach(function(o){var i="#bloc-solution-"+o;$("#"+o).click(function(o){o.preventDefault(),$("html, body").animate({scrollTop:$(i).offset().top-70},200)})}),$(".scroll-to-link").fadeIn()},displaySolutionsDetailed:function(o){this.apims=o;for(var i="",t=0;t<o.length;t++)for(var n=o[t],e=0;e<this.conf.vendorSolutions.length;e++)n==this.conf.vendorSolutions[e].id&&(i+='<div class="row">',i+=this._generateDetailedSolutionBloc(this.conf.vendorSolutions[e]),i+="</div>");$("#solutionsplaceholder").html(i),o.forEach(function(o){var i="#bloc-solution-"+o+" .button-cons",t="#bloc-solution-"+o+" .button-pros";$(i).click(function(n){n.preventDefault(),$("#bloc-solution-"+o+" .bloc-pros").hide(),$("#bloc-solution-"+o+" .bloc-cons").fadeIn(),$(t).removeClass("active"),$(i).addClass("active")}),$(t).click(function(n){n.preventDefault(),$("#bloc-solution-"+o+" .bloc-cons").hide(),$("#bloc-solution-"+o+" .bloc-pros").fadeIn(),$(i).removeClass("active"),$(t).addClass("active")})}),$("#section-solutions").fadeIn(),$("#solutionsplaceholder").fadeIn(),$(".scroll-to-link").fadeIn()},_generateQuizzBloc:function(o,i){var t=this.conf.quizz.quizz[o],n='<div class="row">';n+='<div class="col-md-6">',n+='<div class="bloc">',n+='<form id="form-'+o+'" class="needs-validation">',n+='<h1 class="mb-3">'+t["question-"+this.lang]+"</h1>";for(var e=0;e<t.answers.length;e++){var s=t.answers[e],a="ID"+s.goto;n+='<div class="form-check">',s.goto==i?n+='<input class="form-check-input" type="radio" name="radio-'+o+'" id="'+a+'" value="'+s.goto+'" checked>':n+='<input class="form-check-input" type="radio" name="radio-'+o+'" id="'+a+'" value="'+s.goto+'">',n+='<label class="form-check-label" for="'+a+'">',n+=""+s["answer-"+this.lang],n+="</label>",n+="</div>"}return n+="</form>",n+="</div>",n+="</div>",n+="</div>",n+='<a class="return-button" href="#"><span class="icon icon-shape-chevron"></span> '+this._getCMSValue("home","section-quizz-return-button")+"</a>"},_generateSummarySolutionBloc:function(o){var i='<div class="col-md-4">';return i+='<div id="'+o.id+'" class="bloc bloc-apim">',i+='<div class="logo-container"><img src="'+o.logo+'" alt="'+o.name+'"></div>',i+="<h3>"+this._getCMSValue("home","bloc-solutions-button-knowmore")+"</h3>",i+="</div>",i+="</div>"},_generateDetailedSolutionBloc:function(o){var i="";i+='<div class="col-md-12">',i+='<div class="bloc-edito" id="bloc-solution-'+o.id+'">',i+="<h2>"+o.name+".</h2>",i+="<p>"+o["description-"+this.lang]+"</p>",i+='<ul class="nav nav-tabs">',i+='<li class="nav-item">',i+='<a class="nav-link active button-pros" href="#"><img src="./skin2/img/plus-jaune.png" alt="cons- '+o.name+'"></a>',i+="</li>",i+='<li class="nav-item">',i+='<a class="nav-link button-cons" href="#"><img src="./skin2/img/moins-jaune.png" alt="cons- \'+ apim.name + \'"></a>',i+="</li>",i+="</ul>",i+='<div class="bloc">',i+='<ul class="bloc-pros">';for(var t=0;t<o["pros-"+this.lang].length;t++)i+="<li>",i+="&gt;&nbsp;"+o["pros-"+this.lang][t]+"<br />",i+="</li>";i+="</ul>",i+='<ul class="bloc-cons">';for(t=0;t<o["cons-"+this.lang].length;t++)i+="<li>",i+="&gt;&nbsp;"+o["cons-"+this.lang][t]+"<br />",i+="</li>";return i+="</ul>",i+="</div>",i+="</div>",i+="</div>"}};var i=o.app||new o.app;i.start()});