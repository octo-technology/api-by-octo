$(document).ready(function(){var o=o||{};o.app={conf:{cms:null,quizz:null,vendorSolutions:null},lang:"FR",currentNav:"NAVQUIZZ",hasToDisplayQuizz:!1,quizzId:"ID1",apims:[],history:[],_parameter:function(o,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\#&?]"+t+"=([^&#]*)").exec(o);return null==n?"":n[1]},_getCMSValue:function(o,t){var n=this.conf.cms[o];return null!=n[t+"-"+this.lang]?n[t+"-"+this.lang]:n[t]},_setCMSValue:function(o,t,n){var a=this.conf.cms[t];$(o).html(a[n+"-"+this.lang])},_paralaxHook:function(){var o=$(window).scrollTop()/3-0;$("#home-bg-container div").css("background-position-y",o+"px")},_resizeVideoContainerHook:function(){$("header").fadeIn();var o=$(window).height();$("#home-bg-container").css("height",o+"px"),$("#nav-overlay").css("height",o+"px"),$("#section-intro").css("height",o+"px"),$(window).width()>=992?o-=200:$(window).width()>=768?o-=50:o-=150,$("#section-quizz").css("height",o+"px"),$("#section-intro-solutions").css("height",o+"px")},_stickyMenuHook:function(){var o=$("header:eq(1)");$(window).scrollTop()>=200?o.addClass("in-view"):(o.removeClass("in-view"),$(".navbar-collapse").collapse("hide"))},_overlayMenuHook:function(){$(window).scrollTop()>=$(window).height()/2?($("#nav-overlay .blog-link").css("color","#0e2356"),$("#nav-overlay .contact-link").css("color","#0e2356")):($("#nav-overlay .blog-link").css("color","#FFF"),$("#nav-overlay .contact-link").css("color","#FFF"))},_backHistoryHook:function(){var o=this.history.shift();console.log("back:"),console.log(o),"NAVINTRO"==o[0]?this.displayIntro():"NAVQUIZZ"==o[0]?this.displayQuizz(o[1],o[2]):this.displayAllSolutions()},_animateShapes:function(){if($(".shapes").length){var o=anime.path(".shape-c path");anime({targets:".shape-c .icon",translateX:o("x"),translateY:o("y"),easing:"linear",duration:5e4,direction:"reverse",loop:!0});var t=anime.path(".shape-target path");anime({targets:".shape-target .icon",translateX:t("x"),translateY:t("y"),easing:"linear",duration:55e3,loop:!0});var n=anime.path(".shape-logo path");anime({targets:".shape-logo .icon",translateX:n("x"),translateY:n("y"),rotate:n("angle"),easing:"linear",duration:58e3,direction:"reverse",loop:!0});var a=anime.path(".shape-play path");anime({targets:".shape-play .icon",translateX:a("x"),translateY:a("y"),rotate:360,easing:"linear",duration:52e3,loop:!0})}},_reDisplay:function(){switch(this.displayHome(),this.currentNav){case"NAVQUIZZ":this.hasToDisplayQuizz?this.displayQuizz(this.quizzId):this.displayIntro();break;case"NAVBENCHMARK":this.displayAllSolutions()}},displayHome:function(){$("header:first-of-type").hide(),$("footer:first-of-type").hide(),this._setCMSValue(".button-quizz a","home","header-menu-quizz"),this._setCMSValue(".button-solutions a","home","header-menu-solutions"),this._setCMSValue(".button-publications a","home","header-menu-publications"),this._setCMSValue(".button-download a","home","header-menu-download"),this._setCMSValue("#button-legal a","home","footer-button-legal"),this._setCMSValue("#button-press a","home","footer-button-press"),this._setCMSValue("#button-blog a","home","footer-button-blog"),this._setCMSValue("#button-contact a","home","footer-button-contact"),$("header:first-of-type").fadeIn(),$("footer:first-of-type").fadeIn()},displayIntro:function(){this._setCMSValue(".button-quizz a","home","header-menu-quizz"),this._setCMSValue(".start-quizz-bloc h2","home","bloc-quizz-title"),this._setCMSValue(".start-quizz-bloc h3","home","bloc-quizz-subtitle"),this._setCMSValue(".solutions-bloc h2","home","bloc-solutions-title"),this._setCMSValue(".solutions-bloc h3","home","bloc-solutions-subtitle"),$("#section-intro").hide(),$("#section-intro-solutions").hide(),this.quizzId="ID1",$("form").hide(),$("#section-quizz").hide(),$("#section-solutions").hide(),$(window).width()<768?$("#home-bg").css("background-image","url("+this._getCMSValue("home","background-image-mobile")+")"):$("#home-bg").css("background-image","url("+this._getCMSValue("home","background-image")+")"),$("#home-bg").removeClass("transparent"),$("#home-bg-open").addClass("transparent"),$("#home-bg-solutions").addClass("transparent"),$("#section-intro").fadeIn()},displayQuizz:function(o,t){var n=this;if(o||(o="ID1"),n.currentNav="NAVQUIZZ",this.hasToDisplayQuizz=!0,this.quizzId=o,$("form").hide(),"leaf"==n.conf.quizz.quizz[o].type){var a=n.conf.quizz.quizz[o].apim,i=n.conf.quizz.quizz[o].fail;i?(n.displayFail(i),$(".return-button").click(function(){n._backHistoryHook()})):(n.displayQuizzSolutions(a),$(".return-button").click(function(){n._backHistoryHook()}))}else{$("#form-"+o).show();var e=this._generateQuizzBloc(o,t);$("#section-quizz").html(e),$("input[type=radio]").click(function(a){a.preventDefault();var i=$(this);i.attr("id");n.history.unshift(["NAVQUIZZ",o,i.attr("value")]),n.displayQuizz(i.attr("id"),t)}),$(".return-button").click(function(){n._backHistoryHook()}),$("#section-intro").hide(),$("#section-intro-solutions").hide(),$("#section-solutions").hide(),$(window).width()<768?$("#home-bg").css("background-image","url("+n._getCMSValue("home","background-image-mobile")+")"):$("#home-bg").css("background-image","url("+n._getCMSValue("home","background-image")+")"),$("#home-bg").removeClass("transparent"),$("#home-bg-open").addClass("transparent"),$("#home-bg-solutions").addClass("transparent"),$("#section-quizz").fadeIn()}},start:function(){var o=this;$("section").hide(),$("input[type=radio]").removeAttr("checked"),$("#logo-octo").click(function(n){n.preventDefault(),o.currentNav="NAVQUIZZ",o.hasToDisplayQuizz=!1,window.location.hash="",t._reDisplay(),$(".button-solutions").removeClass("active"),$(".button-quizz").removeClass("active"),$(".scroll-to-link").hide()}),$(".button-quizz").click(function(n){n.preventDefault(),o.history.unshift(["NAVINTRO"]),window.location.hash="display=NAVQUIZZ"+o.lang,t.displayQuizz(),$(".button-solutions").removeClass("active"),$(".button-quizz").addClass("active"),$(".scroll-to-link").hide()}),$(".button-solutions").click(function(n){n.preventDefault(),window.location.hash="display=NAVBENCHMARK"+o.lang,t.displayAllSolutions(),$(".button-quizz").removeClass("active"),$(".button-solutions").addClass("active")}),$("#navbar a").click(function(o){$("#bg").fadeIn()}),$(".button-lang-fr").click(function(t){t.preventDefault(),o.lang="FR",window.location.hash="display="+o.currentNav+"FR",o._reDisplay(),$(".button-lang-en").removeClass("active"),$(".button-lang-fr").addClass("active")}),$(".button-lang-en").click(function(t){t.preventDefault(),o.lang="EN",window.location.hash="display="+o.currentNav+"EN",o._reDisplay(),$(".button-lang-fr").removeClass("active"),$(".button-lang-en").addClass("active")}),$("#nav-overlay .scroll-to-link").click(function(o){o.preventDefault();var t=$("#nav-overlay .scroll-to-link").offset().top+50;$("html, body").animate({scrollTop:t},200)}),$(".start-quizz-bloc").click(function(){o.history.unshift(["NAVINTRO"]),o.displayQuizz(),$(".button-solutions").removeClass("active"),$(".button-quizz").addClass("active")}),$(".solutions-bloc").click(function(){t.displayAllSolutions(),$(".button-quizz").removeClass("active"),$(".button-solutions").addClass("active")}),$(".footer-warning a").click(function(){$(".footer-warning").hide()}),$("form").submit(function(o){o.preventDefault()});var n=$.ajax({url:"./conf/conf-cms.json",type:"GET",dataType:"json",crossDomain:!0,cache:!1}),a=$.ajax({url:"./conf/conf-quizz.json",type:"GET",dataType:"json",crossDomain:!0,cache:!1}),i=$.ajax({url:"./conf/conf-vendorsolutions.json",type:"GET",dataType:"json",crossDomain:!0,cache:!1});$.when(n,a,i).then(function(t,n,a){console.log("json config file loaded"),o.conf.cms=t[0],o.conf.quizz=n[0],o.conf.vendorSolutions=a[0];var i=o._parameter(window.location,"bg");""!=i&&(o.conf.cms.home["background-image"]=i,o.conf.cms.home["background-image-mobile"]=i,o.conf.cms["section-quizz"]["background-image"]=i,o.conf.cms["section-intro-solutions"]["background-image"]=i);var e=o._parameter(window.location,"display");if(""!=e)switch(e){case"NAVQUIZZFR":o.currentNav="NAVQUIZZ",$(".button-solutions").removeClass("active"),$(".button-quizz").addClass("active"),o.lang="FR",$(".button-lang-en").removeClass("active"),$(".button-lang-fr").addClass("active");break;case"NAVQUIZZEN":o.currentNav="NAVQUIZZ",$(".button-solutions").removeClass("active"),$(".button-quizz").addClass("active"),o.lang="EN",$(".button-lang-en").addClass("active"),$(".button-lang-fr").removeClass("active");break;case"NAVBENCHMARKFR":o.currentNav="NAVBENCHMARK",$(".button-quizz").removeClass("active"),$(".button-solutions").addClass("active"),o.lang="FR",$(".button-lang-en").removeClass("active"),$(".button-lang-fr").addClass("active");break;case"NAVBENCHMARKEN":o.currentNav="NAVBENCHMARK",$(".button-quizz").removeClass("active"),$(".button-solutions").addClass("active"),o.lang="EN",$(".button-lang-en").addClass("active"),$(".button-lang-fr").removeClass("active")}o._reDisplay(),o._animateShapes(),o._resizeVideoContainerHook(),o._paralaxHook(),o._stickyMenuHook(),$("header:eq(1)").on("hidden.bs.collapse",function(){o._stickyMenuHook()}),$(window).resize(function(){o._resizeVideoContainerHook()}),$(window).scroll(function(){o._paralaxHook(),o._stickyMenuHook(),o._overlayMenuHook()})},function(o,t,e){4!=n.readyState&&(console.log("ajax error loading conf-cms.json"),a.abort()),4!=a.readyState&&(console.log("ajax error loading conf-quizz.json"),a.abort()),4!=i.readyState&&(console.log("ajax error loading conf-vendorsolutions.json"),i.abort()),console.log("ajax error loading config"),console.log(o.status),console.log(e)}),console.log("app initialized...")},displayAllSolutions:function(){this.currentNav="NAVBENCHMARK",$("#section-intro").hide(),$("#section-quizz").hide(),$("#home-bg").addClass("transparent"),$("#home-bg-open").addClass("transparent"),$("#home-bg-solutions").removeClass("transparent"),this._setCMSValue("#section-intro-solutions h1","home","section-intro-solutions-title"),this._setCMSValue("#section-intro-solutions p","home","section-intro-solutions-subtitle"),this.displaySolutionsDetailed(["3SCALE","APIGEE","AWS","AXWAY","BROADCOM","GRAVITEE","IBM","KONG","MICROSOFT","MULESOFT","AG","TIBCO","TYK","WSO2"]),$("#section-intro-solutions").fadeIn(),$("#section-solutions").fadeIn()},displayFail:function(o){for(var t=null,n=0;n<this.conf.quizz.fails.length;n++)if(this.conf.quizz.fails[n].id==o){t=this.conf.quizz.fails[n];break}var a='<div class="row">';a+='<div class="col-md-6">',a+='<div class="bloc">',a+="<h2>"+t.name+"</h2>",a+='<h3 class="card-text">'+t["description-"+this.lang]+"</h3>",a+="</div>",a+="</div>",a+="</div>",a+='<a class="return-button" href="#"><span class="icon icon-shape-chevron"></span> '+this._getCMSValue("home","section-quizz-return-button")+"</a>",$("form").hide(),$("#section-quizz").html(a)},displayQuizzSolutions:function(o){this.apims=o;for(var t='<div class="row">',n=0;n<o.length;n++)for(var a=o[n],i=0;i<this.conf.vendorSolutions.length;i++)a==this.conf.vendorSolutions[i].id&&(t+=this._generateSummarySolutionBloc(this.conf.vendorSolutions[i]),0!=n&&(n+1)%3==0&&(t+="</div>",t+='<div class="row">'));t+="</div>",t+='<a class="return-button" href="#"><span class="icon icon-shape-chevron"></span> '+this._getCMSValue("home","section-quizz-return-button")+"</a>",$("form").hide(),$("#home-bg").addClass("transparent"),$("#home-bg-open").removeClass("transparent"),$("#home-bg-solutions").addClass("transparent"),$("#section-quizz").html(t),this.displaySolutionsDetailed(o),$("#section-solutions").fadeIn(),o.forEach(function(o){var t="#bloc-solution-"+o;$("#"+o).click(function(o){o.preventDefault(),$("html, body").animate({scrollTop:$(t).offset().top-70},200)})}),$(".scroll-to-link").fadeIn()},displaySolutionsDetailed:function(o){this.apims=o;for(var t="",n=0;n<o.length;n++)for(var a=o[n],i=0;i<this.conf.vendorSolutions.length;i++)a==this.conf.vendorSolutions[i].id&&(t+='<div class="row">',t+=this._generateDetailedSolutionBloc(this.conf.vendorSolutions[i]),t+="</div>");$("#solutionsplaceholder").html(t),o.forEach(function(o){var t="#bloc-solution-"+o+" .button-cons",n="#bloc-solution-"+o+" .button-pros";$(t).click(function(a){a.preventDefault(),$("#bloc-solution-"+o+" .bloc-pros").hide(),$("#bloc-solution-"+o+" .bloc-cons").fadeIn(),$(n).removeClass("active"),$(t).addClass("active")}),$(n).click(function(a){a.preventDefault(),$("#bloc-solution-"+o+" .bloc-cons").hide(),$("#bloc-solution-"+o+" .bloc-pros").fadeIn(),$(t).removeClass("active"),$(n).addClass("active")})}),$("#section-solutions").fadeIn(),$("#solutionsplaceholder").fadeIn(),$(".scroll-to-link").fadeIn()},_generateQuizzBloc:function(o,t){var n=this.conf.quizz.quizz[o],a='<div class="row">';a+='<div class="col-md-6">',a+='<div class="bloc">',a+='<form id="form-'+o+'" class="needs-validation">',a+='<h1 class="mb-3">'+n["question-"+this.lang]+"</h1>";for(var i=0;i<n.answers.length;i++){var e=n.answers[i],s="ID"+e.goto;a+='<div class="form-check">',e.goto==t?a+='<input class="form-check-input" type="radio" name="radio-'+o+'" id="'+s+'" value="'+e.goto+'" checked>':a+='<input class="form-check-input" type="radio" name="radio-'+o+'" id="'+s+'" value="'+e.goto+'">',a+='<label class="form-check-label" for="'+s+'">',a+=""+e["answer-"+this.lang],a+="</label>",a+="</div>"}return a+="</form>",a+="</div>",a+="</div>",a+="</div>",a+='<a class="return-button" href="#"><span class="icon icon-shape-chevron"></span> '+this._getCMSValue("home","section-quizz-return-button")+"</a>"},_generateSummarySolutionBloc:function(o){var t='<div class="col-md-4">';return t+='<div id="'+o.id+'" class="bloc bloc-apim">',t+='<div class="logo-container"><img src="'+o.logo+'" alt="'+o.name+'"></div>',t+="<h3>"+this._getCMSValue("home","bloc-solutions-button-knowmore")+"</h3>",t+="</div>",t+="</div>"},_generateDetailedSolutionBloc:function(o){var t="";t+='<div class="col-md-12">',t+='<div class="bloc-edito" id="bloc-solution-'+o.id+'">',t+="<h2>"+o.name+".</h2>",t+="<p>"+o["description-"+this.lang]+"</p>",t+='<ul class="nav nav-tabs">',t+='<li class="nav-item">',t+='<a class="nav-link active button-pros" href="#"><img src="./skin2/img/plus-jaune.png" alt="cons- '+o.name+'"></a>',t+="</li>",t+='<li class="nav-item">',t+='<a class="nav-link button-cons" href="#"><img src="./skin2/img/moins-jaune.png" alt="cons- \'+ apim.name + \'"></a>',t+="</li>",t+="</ul>",t+='<div class="bloc">',t+='<ul class="bloc-pros">';for(var n=0;n<o["pros-"+this.lang].length;n++)t+="<li>",t+="&gt;&nbsp;"+o["pros-"+this.lang][n]+"<br />",t+="</li>";t+="</ul>",t+='<ul class="bloc-cons">';for(n=0;n<o["cons-"+this.lang].length;n++)t+="<li>",t+="&gt;&nbsp;"+o["cons-"+this.lang][n]+"<br />",t+="</li>";return t+="</ul>",t+="</div>",t+="</div>",t+="</div>"}};var t=o.app||new o.app;t.start()});